<!-- å¥½å¥½å­¦ä¹ å¤©å¤©å‘ä¸Š -->
<!-- è®¡ç®—å±æ€§ -->



<script setup lang="ts">

const author = reactive({
    name: 'John Doe',
    books: [
        'Vue 2 - Advanced Guide',
        'Vue 3 - Basic Guide',
        'Vue 4 - The Mystery'
    ]
})

//å®šä¹‰ å£°æ˜ä¸€ä¸ª è®¡ç®—å±æ€§ ref
const publishedBooksMessage = computed(() => {
    return author.books.length > 0 ? 'Yes' : 'No'
})
//æ–¹æ³•å®ç° æ›¿ä»£è®¡ç®—å±æ€§
function calcBooksMessage() {
    return author.books.length > 0 ? 'Yes' : 'No'
}

/**
 * è®¡ç®—å±æ€§å’Œæ–¹æ³•ä¸åŒç‚¹
 * è®¡ç®—å±æ€§ä¾èµ–äºå…¶å“åº”å¼çš„ä¾èµ–æ›´æ–°æ‰ä¼šé‡æ–°è®¡ç®— å¦åˆ™ ä½¿ç”¨å±æ€§å€¼çš„æ—¶å€™ ä¸€ç›´è·å–çš„æ˜¯ç¼“å­˜ã€‚å¦‚æœå“åº”å¼ä¾èµ–çš„å€¼ï¼ˆä¾‹å¦‚æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„list ï¼‰å¦‚æœlistå’©æœ‰æ›´æ–° é‚£å°±ä½¿ç”¨ç¼“å­˜çš„å€¼ä»¥ä¼˜åŒ–æ€§èƒ½
 * æ–¹æ³•æ¯æ¬¡è°ƒç”¨éƒ½ä¼šå®æ—¶è®¡ç®—ï¼Œè·å–æ–°çš„ç»“æœã€‚
 */


//å¯å†™è®¡ç®—å±æ€§ï¼ˆå¸¦setterè®¿é—®ï¼‰ï¼š

const firstName = ref('John')
const lastName = ref('Doe')

//1ã€é»˜è®¤è®¡ç®—å±æ€§ï¼š
// const fullName = computed(() => firstName.value + ' ' + lastName.value)

//2ã€å¯è¯»å¯å†™(get set) è®¡ç®—å±æ€§: å°±æ˜¯C#é‡Œé¢çš„ è‡ªåŠ¨å±æ€§ï¼Œgetter setterè®¿é—®å™¨ã€‚å­¦è¿‡C# è¿™ä¸ªå¾ˆå¥½ç†è§£å•Šï¼ğŸ˜
const fullName = computed({
    get() {
        return firstName.value + ' ' + lastName.value
    },
    set(newValue) {
        [firstName.value, lastName.value] = newValue.split(' ')
    }
})


async function doSomething() {
    fullName.value = 'Rhys Wang' // Vue warnï¼šWrite operation failed: computed value is readonly
}


</script>


<template>

    <p>Has published books:</p>

    <!-- åˆ©ç”¨è¡¨è¾¾å¼è¿›è¡Œçš„å®ç°: -->
    <!-- <span>{{ author.books.length > 0 ? 'Yes' : 'No' }}</span> -->

    <!-- ä½¿ç”¨è®¡ç®—å±æ€§ï¼š -->
    <!-- <span>{{ publishedBooksMessage }}</span> -->

    <!-- ä½¿ç”¨æ–¹æ³• -->
    <!-- <span>{{ calcBooksMessage() }}</span> -->


    <p> see nameï¼š {{ fullName }}</p>
    <van-divider />
    <van-divider />

    <VanButton type="primary" round block @click="doSomething">
        ç¬¬ä¸‰è¯¾-è®¡ç®—å±æ€§
    </VanButton>

</template>


<style lang="less" scoped>
.data-label {
    color: #969799;
    font-weight: 400;
    font-size: 14px;
    line-height: 16px;
    margin-top: 10px;
}

.data-content {
    height: 300px;
    padding: 20px;
    line-height: 30px;
    margin-top: 20px;
    font-size: 16px;
    border-radius: 15px;
    display: flex;
    align-items: center;
    justify-content: center;
}
</style>
