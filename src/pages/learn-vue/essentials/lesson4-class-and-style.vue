<!-- å¥½å¥½å­¦ä¹ å¤©å¤©å‘ä¸Š -->
<!-- Class ä¸Ž Style ç»‘å®š -->

<script setup lang="ts">

//å†…è”å­—é¢é‡å½¢å¼ï¼š:class="{ active: isActive, error: hasError }" èµ·çš„ä»€ä¹ˆæœ¯è¯­åå•Šâ€¦â€¦ðŸ˜´
// const isActive = ref(true)
// const hasError = ref(false)

// //ç»‘å®šä¸€ä¸ªå¯¹è±¡  ï¼ˆç»‘å¯¹è±¡ ä¸æ˜¯ðŸ˜‹
// const classObject = reactive({
//     active: true,
//     'text-danger': false
// })


//ç»‘å®šä¸€ä¸ª è®¡ç®—å±žæ€§çš„å¯¹è±¡ 

const isActive = ref(true)
let error = ref(null)
const classObject = computed(() => ({
    active: isActive.value && !error.value,
    'text-danger': error.value && error.value.type === 'fatal'
}))


async function doSomething() {
    console.log(error.value == null)
    console.log(!error.value)
    // hasError.value = !hasError.value
    if (error.value == null) {
        error.value = { type: 'fatal' }
    } else {
        error = ref(null)
    }
}

</script>


<template>

    <!-- <div class="static" :class="{ active: isActive, error: hasError }">æˆ‘æ˜¯ä¸€ä¸ªdivå•Š</div> -->
    <!-- å†³å®š active ç±»(class)æ ·å¼æ˜¯å¦ç”Ÿæ•ˆ å–å†³äºŽ isActiveå˜é‡çš„å€¼  -->

    <!-- <div class="static" :class="{ active: isActive, 'text-danger': hasError }">æˆ‘æ˜¯ä¸€ä¸ªdivå•Š</div> -->
    <!-- å†³å®š text-danger ç±»ï¼ˆclassï¼‰æ ·å¼æ˜¯å¦ç”Ÿæ•ˆ å–å†³äºŽ hasErrorå˜é‡çš„å€¼ -->

    <div class="static" :class="classObject">æˆ‘æ˜¯ä¸€ä¸ªdivå•Š</div>

    <van-divider />
    <van-divider />

    <VanButton type="primary" round block @click="doSomething">
        ç¬¬å››è¯¾-Class ä¸Ž Style ç»‘å®š
    </VanButton>

</template>


<style lang="less" scoped>
.active {
    color: #969799;
    font-weight: 800;
    font-size: 20px;
    line-height: 16px;
    margin-top: 10px;
}

.error {
    background-color: red;
    font-size: 26px;
}

.text-danger {
    background-color: black;
    font-size: 30px;
}
</style>
